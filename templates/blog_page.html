{% extends "base_html.html" %}
{% load staticfiles %}
{% load blog_tags %}

{% block title %}文章主页{% endblock %}

{% block front%}
    <li><a class="front_text" href="{% url 'first_page' %}"><strong>主页</strong></a></li>
    <li><a style="background-color:rgb(0, 91, 38);color:white;"  href="{% url 'blog:blog_page' %}"><strong>文章</strong></a></li>
    <li><a class="front_text" href="#"><strong>实验室</strong></a></li>
    <li><a class="front_text" href="#"><strong>推荐好书</strong></a></li>
{% endblock %}

<style>
    span.highlighted {
        color: red;
    }
</style>

{% block body %}

<div class="content-body">
    <div class="container">
    <div class="well" style=" padding-bottom: 10px; padding-top: 10px;">

        <div class="row">
            <div class="col-sm-4">.col-sm-4</div>
            <div class="col-sm-4">.col-sm-4</div>
            <div class="col-sm-2">

            </div>
            <div class="col-sm-2">
                <form role="search" method="get" id="searchform" action="{% url 'haystack_search' %}">
                  <input type="search" name="q" placeholder="搜索" required>
                  <button type="submit"><span class="ion-ios-search-strong"></span></button>
                </form>

            </div>
        </div>
    </div>


        <div class="row">
            {% block main %}
            <main class="col-md-8">
                {% for post in post_list %}
                <article class="post post-1">
                    <header class="entry-header">
                        <h1 class="entry-title">
                            <a style="color: rgb(81,153,107);font-family: 'Adobe 楷体 Std R'" href="{{ post.get_absolute_url }}"><h2><strong>{{ post.title }}</strong></h2></a>
                        </h1>
                        <div class="entry-meta">
                            <button class="btn btn-primary btn-xs"><a style="color: white;font-family: 'Times New Roman';" href="#">{{ post.category.name }}</a></button>
                            <button class="btn btn-success btn-xs"><a style="color: white;font-family: 'Times New Roman';"  href="#"><time class="entry-date"
                                                                      datetime="2012-11-09T23:15:57+00:00">{{ post.created_time }}</time></a></button>
                            <button class="btn btn-info btn-xs"><a style="color: white;font-family: 'Times New Roman';"  href="#">{{ post.author }}</a></button>
                            <button class="btn btn-warning btn-xs"><a style="color: white;font-family: 'Times New Roman';"  href="#">4 评论</a></button>
                            <button class="btn btn-danger btn-xs"><a style="color: white;font-family: 'Times New Roman';"  href="#">{{ post.views }} 阅读</a></button>
                        </div>
                    </header>
                    <div class="entry-content clearfix">
                        <p>{{ post.abstract }}</p>
                    </div>
                </article>
                {% empty %}
                    <div class="no-post">暂时还没有发布的文章！</div>
                {% endfor %}

                {% if is_paginated %}
                <div class="pagination">
                  {% if first %}
                    <a href="?page=1">1</a>
                  {% endif %}
                  {% if left %}
                    {% if left_has_more %}
                        <span>...</span>
                    {% endif %}
                    {% for i in left %}
                        <a href="?page={{ i }}">{{ i }}</a>
                    {% endfor %}
                  {% endif %}
                  <a href="?page={{ page_obj.number }}" style="color: red">{{ page_obj.number }}</a>
                  {% if right %}
                    {% for i in right %}
                        <a href="?page={{ i }}">{{ i }}</a>
                    {% endfor %}
                    {% if right_has_more %}
                        <span>...</span>
                    {% endif %}
                  {% endif %}
                  {% if last %}
                    <a href="?page={{ paginator.num_pages }}">{{ paginator.num_pages }}</a>
                  {% endif %}
                </div>
                {% endif %}

            </main>
        {% endblock main %}

            <aside class="col-md-4">
            {% block catalogue %}
                {% endblock %}
                <div class="widget widget-recent-posts">
                    <h3 style="color: rgb(16,137,88);" class="widget-title"><strong>最新文章</strong></h3>
                    {% get_recent_posts as recent_post_list %}
                    <ul>
                        {% for post in recent_post_list %}
                        <li>
                            <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
                        </li>
                        {% empty %}
                        暂无文章
                        {% endfor %}
                    </ul>
                </div>
                <div class="widget widget-archives">
                    <h3 style="color: rgb(16,137,88);"  class="widget-title"><strong>归档</strong></h3>
                    {% archives as date_list %}
                    <ul>
                        {% for date in date_list %}
                        <li>
                            <a href="{% url 'blog:archives_page' date.year date.month %}">{{ date.year }} 年 {{ date.month }} 月</a>
                        </li>
                        {% empty %}
                        暂无归档
                        {% endfor %}
                    </ul>
                </div>

                <div class="widget widget-category">
                    <h3 style="color: rgb(16,137,88);"  class="widget-title"><strong>分类</strong></h3>
                    {% get_categories as category_list %}
                    {% for category in category_list %}
                    <ul>
                        <a href="{% url 'blog:category_page' category.pk %}">{{ category.name }} <span class="badge">{{ category.num_posts }}</span></a><br>
                    </ul>
                    {% empty %}
                    暂无分类
                    {% endfor %}
                </div>

                <div class="widget widget-tag-cloud">
                  <h3 class="widget-title">标签云</h3>
                  {% get_tags as tag_list %}
                  <ul>
                    {% for tag in tag_list %}
                    <li>
                      <a href="{% url 'blog:tag_page' tag.pk %}">{{ tag.name }}</a>
                    </li>
                    {% empty %}
                    暂无标签！
                    {% endfor %}
                  </ul>
                </div>
                <div class="rss">
                    <a href="{% url 'rss' %}"><span class="ion-social-rss-outline"></span> RSS 订阅</a>
                </div>
            </aside>
        </div>
    </div>
</div>

<footer id="site-footer">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <p class="copyright">&copy 2017 - 采集自<a href="http://www.cssmoban.com/"
                                                        target="_blank" title="模板之家">模板之家</a>
                    - 由<a href="http://zmrenwu.com/" title="网页模板" target="_blank">OLDPAN的博客</a>修改
                </p>
            </div>
        </div>
    </div>
</footer>

<script src="{% static 'js/script.js' %}"></script>

{% endblock %}




